generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Skill {
  skillId       Int             @id @unique @default(autoincrement())
  name_en       String          @map("name-en")
  name_fr       String?         @map("name-fr")
  skillType     String          @default("Other")
  Project_Skill Project_Skill[]
  SkillType     SkillType       @relation(fields: [skillType], references: [name_en], onDelete: SetDefault)
}

model Project {
  projectUrl    String
  title         String
  description   String          @default("")
  imageUrls     String[]
  visible       Boolean         @default(false)
  coverUrl      String?
  logoUrl       String?
  startDate     DateTime?       @db.Date
  endDate       DateTime?       @db.Date
  slideshowUrl  String?
  projectId     BigInt          @id @default(autoincrement())
  externalLink  String?
  Project_Skill Project_Skill[]
}

model Art {
  artId       Int     @id @unique @default(autoincrement())
  title       String
  imageUrl    String
  description String?
  visible     Boolean @default(false)
}

model WorkExperience {
  workId         Int     @id @unique @default(autoincrement())
  company        String
  position_en    String
  description_en String
  startDate      Int
  endDate        Int?
  description_fr String?
  position_fr    String?
}

model Education {
  educationId Int    @id @default(autoincrement())
  diploma     String
  school      String
  startYear   Int
  endYear     Int?
}

model Resume {
  resumeId Int     @id @unique @default(autoincrement())
  name     String
  fileURL  String
  visible  Boolean @default(false)
}

model ContactInfo {
  contactId Int    @id @unique @default(autoincrement())
  name      String
}

model Hobby {
  hobbyId Int     @id @unique @default(autoincrement())
  name_en String  @map("name-en")
  name_fr String? @map("name-fr")
}

model ContactMessage {
  contactId Int      @id @unique @default(autoincrement())
  name      String
  email     String
  message   String?
  seen      Boolean  @default(false)
  date      DateTime @default(now()) @db.Timestamp(6)
}

model Testimonial {
  testimonialId Int      @id @unique @default(autoincrement())
  name          String
  message       String?
  date          DateTime @default(now())
  accepted      Boolean  @default(false)
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Project_Skill {
  id        BigInt   @id @default(autoincrement())
  skillId   Int
  projectId BigInt?
  Project   Project? @relation(fields: [projectId], references: [projectId], onDelete: Cascade)
  Skill     Skill    @relation(fields: [skillId], references: [skillId], onDelete: Cascade)
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model SkillType {
  name_en String  @id @unique @map("name-en")
  name_fr String? @map("name-fr")
  Skill   Skill[]
}
